function whoseTurn(){if(currentPlayer==Player1)var a=Player1,e=Player2;else var a=Player2,e=Player1;return{player:a,otherPlayer:e}}function switchPlayers(){currentPlayer=currentPlayer===Player1?Player2:Player1,$(".mainOptions h4").html(currentPlayer.name)}function menuOptions(a,e,n){function l(){displaying="mainMenu",$("#display-0").html("FIGHT"),$("#display-1").html("PACK"),$("#display-2").html("RUN"),$("#display-3").html("POKEMON")}function i(){currentPlayer==Player1?a.pokemon[0].attack(n.html(),e.pokemon[0]):a.pokemon[0].attack(n.html(),Player1.pokemon[0]),l()}function r(){for(var e=0;e<a.pokemon.length;e++)if(a.pokemon[e].name===n.text()){var i=a.pokemon.splice(e,1);a.pokemon.unshift(i[0])}l()}switch(displaying){case"attack":i();break;case"pack":a.pokemon[0].getMagic(),l();break;case"pokemonDisplay":r(),displayPlayers(a);break;default:l()}switchPlayers()}function attackDisplay(a,e){displaying="attack";for(var n=0;n<4;n++)$("#display-"+n).html(a.pokemon[0].pokemonSkills[n])}function packDisplay(a){displaying="pack",$("#display-0").html("Raspberries"),$("#display-1").html(""),$("#display-2").html(""),$("#display-3").html("")}function runDisplay(){}function pokemonDisplay(a){displaying="pokemonDisplay";for(var e=0;e<4;e++)$("#display-"+e).html(a.pokemon[e+1].name)}var currentPlayer=Player1,displaying="mainMenu";$(".mainOptions > h4").html(currentPlayer.name),$("#display-0").on("click",function(){var a=whoseTurn();switch(displaying){case"mainMenu":attackDisplay(a.player);break;default:menuOptions(a.player,a.otherPlayer,$("#display-0"))}}),$("#display-1").on("click",function(){var a=whoseTurn();switch(displaying){case"mainMenu":packDisplay(a.player);break;default:menuOptions(a.player,a.otherPlayer,$("#display-1"))}}),$("#display-2").on("click",function(){var a=whoseTurn();switch(displaying){case"mainMenu":runDisplay();break;default:menuOptions(a.player,a.otherPlayer,$("#display-2"))}}),$("#display-3").on("click",function(){var a=whoseTurn();switch(displaying){case"mainMenu":pokemonDisplay(a.player);break;default:menuOptions(a.player,a.otherPlayer,$("#display-3"))}});